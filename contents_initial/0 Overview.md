[How Does a Database Work? | Let’s Build a Simple Database (cstack.github.io)](https://cstack.github.io/db_tutorial/)

# **让我们构建一个简单的数据库**

用C语言从头开始编写一个SQLite克隆

**概述**

在GitHub上查看（欢迎提交请求）

**这个项目不再处于活跃开发状态。** 你可以在这里阅读更多。如果你想继续学习如何从头开始制作你自己的SQLite克隆，或其他类似项目如Docker、Redis、Git或BitTorrent，请尝试CodeCrafters。

**构建你自己的SQLite**

尝试交互模式



## **数据库如何工作？**

- 数据以什么格式保存？（在内存中和在磁盘上）
- 什么时候数据从内存移动到磁盘？
- 为什么每个表只能有一个主键？
- 如何回滚事务？
- 索引是如何格式化的？
- 何时以及如何进行全表扫描？
- 预处理语句以什么格式保存？

换句话说，数据库是如何工作的？

我将用C语言从头开始编写一个SQLite克隆，以便理解，并在这个过程中记录我的进展。

## **目录**

- 第1部分 - 介绍和设置REPL
- 第2部分 - 世界上最简单的SQL编译器和虚拟机
- 第3部分 - 一个仅支持内存追加的单表数据库
- 第4部分 - 我们的第一次测试（和Bug）
- 第5部分 - 持久化到磁盘
- 第6部分 - 游标抽象
- 第7部分 - B树介绍
- 第8部分 - B树叶子节点格式
- 第9部分 - 二分查找和重复键
- 第10部分 - 分裂叶子节点
- 第11部分 - 递归搜索B树
- 第12部分 - 扫描多级B树
- 第13部分 - 分裂后更新父节点
- 第14部分 - 分裂内部节点
- 第15部分 - 接下来该做什么

“我无法创造的东西，我无法理解。”——理查德·费曼

## **sqlite架构**

![img](image/arch2.gif)